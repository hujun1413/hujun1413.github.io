---

title:  5.LLVM的函数

date: 2016-12-24 18:35:26 # 文章生成时间，一般不改

categories:   # 文章分类目录，参数可省略

    - OSLab

    - LLVM

tags:   # 文章标签，参数可省略

---
[TOC]

### 参考文档

* [使用LLVM框架创建一个工作编译器](http://www.ibm.com/developerworks/cn/opensource/os-createcompilerllvm1/)
* 通过在doxygen的Classes中的Class Index来查找Function等类和里面的函数，然后点击右上角的List of all members

<!--more-->
### [Module](http://llvm.org/doxygen/classllvm_1_1Module-members.html)

LLVM 模块类是其他所有 LLVM IR 对象的顶级容器。LLVM 模块类能够包含全局变量、函数、该模块所依赖的其他模块和符号表等对象的列表。这里将提供了 LLVM 模块的构造函数：
```bash
explicit Module(StringRef ModuleID, LLVMContext& C);
// 创建Context
LLVMContext& context = getGlobalContext();
// 创建Module
Module* module = new Module("test", context);
```

### [Function](http://llvm.org/doxygen/classllvm_1_1Function-members.html)
```bash
//构造一个函数的类型：
FunctionType * FunctionType::get(Type* Result, ArrayRef< Type* > Params, bool isVarArg)	[static]

//声明一个函数(先判断是否存在，若不存在则create)：
static Function* llvm::Function::Create(FunctionType* Ty, LinkageTypes 	Linkage, const Twine& N = "",
Module* M = nullptr)	[inline, static]
void llvm::Function::setCallingConv(CallingConv::ID CC)
void setAttributes(const AttrListPtr &attrs) //与4.0的文档不一样
//4.0文档中是：Function::setAttributes(AttributeSet Attrs)
```

### [Instruction](http://llvm.org/doxygen/classllvm_1_1Instruction-members.html)

```bash
//返回Instruction所在的BasicBlock*
BasicBlock* llvm::Instruction::getParent()
```

### [Loop](http://llvm.org/doxygen/classllvm_1_1Loop-members.html)
```bash
//Return true if the specified basic block is in this loop.
bool llvm::LoopBase< BlockT, LoopT >::contains	(	const BlockT * 	BB	)	const
```




